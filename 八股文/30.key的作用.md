# key的作用

`key`的主要作用就是在`diff`算法中判断一个虚拟节点是否需要被更新，与旧的虚拟节点是否能够一一对应；**是提高`diff`算法速度的关键**

`vue, react`都是采用`diff`算法通过`key`来比较新旧节点。在`vue`的`diff`函数中，会根据新节点的`key`去对比旧节点数组中的`key`，从而找到相应旧节点。如果没找到就认为是一个新增节点。

**为什么不能使用`index【索引】`来作为`key`？**

* 索引作为`key`并不是完全不行，如果该列表不需要任何的插入，删除的操作，使用`index`作为`key`是不会有什么性能上的问题
* 如果一个列表经常需要添加和删除的操作，那么由于插入一个新的元素，从插入位置开始以后的元素的`index`都发生了改变，这个时候`diff`算法判断到新旧虚拟DOM的`key`不相同，则会重新生成虚拟DOM并渲染，如果使用的是`id`绑定`key`，则不会出现这种问题，因为后面的`key`不会被改变