`TCP`是可靠的，面向连接，字节流传输；`TCP`在通信之前需要经过三次握手建立连接的过程；并且`TCP`只支持点对点的消息传播。

`TCP`的头部结构：
![img](https://img-blog.csdn.net/20180501221501343?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JhaWR1XzE3NjExMjg1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

* 16位端口号：端口分为源端口号和目的端口号，长度都是`16`，在消息发送的时候就是通过端口号来确定发送的目的地和发送者。
* 32位序号：一次`TCP`通信过程中某一个方向上的字节流的每个字节的编号
* 32位确认号：用作对另一方发送来的`TCP`报文段的响应，收到`TCP`报文段的序号值`+1`
* 4位首部长度：最少20个字节，最多60个字节
* 6位标志位：`URG`紧急指针，`ACK`确认报文，`SYN`同步报文，`FIN`结束报文
* 16位窗口大小：`TCP`流量控制的手段之一，表示字节缓冲区还剩下多少空间，发送方可以根据接收方的缓冲区的大小调整发送速率
* 16位校验和：由发送端填充，对`TCP`报文段执行`CRC`算法校验`TCP`报文段是否在传输过程中损坏
* 16位紧急指针

`TCP`怎么实现可靠传输

* 在通信之前通过三次握手建立连接，确保通信两端收发数据能力正常
* 提供校验和，接收方可以检测出来数据是否有差错和异常，如果有差错直接丢弃
* 超时重传，当`TCP`发送一个报文后就会开启定时器等待确认消息，接收端收到报文后就返回确认消息；如果发送端在定时器超时后没有收到确认消息，则认为该报文丢失，则重新传递
* 拥塞控制，网络出现拥塞的时候，发送端会降低发送的速率和数据包的大小；拥塞控制算法：慢启动，拥塞避免，快重传，快恢复
* 流量控制，如果发送方发送数据过快，接收方来不及接收，也就是接收方的缓存区即将填满的时候，会发送一个`0`的窗口通告，发送发收到该窗口通告后立即停止发送，直到收到正的窗口通告

